<!doctype html>
<html lang="en" data-theme="auto">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>PetStay | Premium Pet Hotel</title>

  <style>
    /* =========================================================
       PETSTAY — Apple-clean, mobile-first, single-file HTML
       Fixes:
       - Mobile header buttons never collide (uses icon buttons + menu sheet)
       - Footer buttons never overlap (grid on mobile + safe-area padding)
       - Desktop whitespace balanced (tighter section spacing + better max widths)
       ========================================================= */

    :root{
      --radius: 22px;
      --radius-2: 18px;
      --radius-pill: 999px;
      --blur: 18px;

      --teal: #17b8b0;
      --teal-2:#0fa79f;
      --teal-3:#0b7e79;

      /* Light (default) */
      --bg: #f4fffe;
      --bg2:#ffffff;
      --text:#0b1a19;
      --muted: rgba(11, 26, 25, 0.65);

      --panel: rgba(255,255,255,0.74);
      --panel2: rgba(255,255,255,0.90);
      --stroke: rgba(12, 22, 22, 0.10);

      --btn: rgba(255,255,255,0.86);
      --btnStroke: rgba(12, 22, 22, 0.10);

      --shadow: 0 18px 55px rgba(9, 32, 31, 0.12);
      --shadow2: 0 12px 34px rgba(9, 32, 31, 0.10);

      --ring: 0 0 0 2px rgba(23,184,176,0.22), 0 0 0 10px rgba(23,184,176,0.09);
      --ring2: 0 0 0 2px rgba(23,184,176,0.32), 0 0 0 14px rgba(23,184,176,0.12);

      --heroOverlay: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.80));
      --tableHead: rgba(255,255,255,0.70);

      --contentMax: 1180px;
      --pagePad: 44px;
    }

    html[data-theme="dark"]{
      --bg: #071312;
      --bg2:#050e0d;
      --text:#eaf7f6;
      --muted: rgba(234,247,246,0.72);

      --panel: rgba(255,255,255,0.06);
      --panel2: rgba(255,255,255,0.08);
      --stroke: rgba(255,255,255,0.12);

      --btn: rgba(255,255,255,0.06);
      --btnStroke: rgba(255,255,255,0.12);

      --shadow: 0 20px 60px rgba(0,0,0,0.55);
      --shadow2: 0 14px 38px rgba(0,0,0,0.38);

      --heroOverlay: linear-gradient(180deg, rgba(0,0,0,0.06), rgba(5,14,13,0.82));
      --tableHead: rgba(255,255,255,0.06);
    }

    *{ box-sizing:border-box; }
    html{ scroll-behavior:smooth; }
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
      color: var(--text);
      background:
        radial-gradient(1150px 740px at 18% -10%, rgba(23,184,176,0.22), transparent 60%),
        radial-gradient(920px 580px at 92% 10%, rgba(15,167,159,0.18), transparent 62%),
        linear-gradient(180deg, var(--bg2), var(--bg));
      line-height:1.55;
      overflow-x:hidden;
    }

    a{ color:inherit; text-decoration:none; }
    img{ max-width:100%; display:block; }

    .container{
      width:min(var(--contentMax), calc(100% - var(--pagePad)));
      margin:0 auto;
    }

    /* Safe areas for iOS (prevents footer buttons feeling “stuck” to bottom bar) */
    .safe-bottom{
      padding-bottom: max(16px, env(safe-area-inset-bottom));
    }

    /* =========================================================
       Header
       ========================================================= */
    header{
      position:sticky;
      top:0;
      z-index:60;
      backdrop-filter: blur(var(--blur));
      background: color-mix(in srgb, var(--panel2) 78%, transparent);
      border-bottom: 1px solid var(--stroke);
    }

    .topbar{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      padding:14px 0;
    }

    .brand{
      display:flex;
      align-items:center;
      gap:12px;
      user-select:none;
      min-width: 220px;
    }

    .brand-mark{
      width:42px;
      height:42px;
      border-radius:14px;
      overflow:hidden;
      border: 1px solid color-mix(in srgb, #fff 20%, transparent);
      background: linear-gradient(135deg, rgba(23,184,176,0.92), rgba(11,126,121,0.88));
      box-shadow: var(--shadow2);
      flex: 0 0 42px;
      display:grid;
      place-items:center;
    }
    .brand-mark img{
      width:100%;
      height:100%;
      object-fit:cover;
    }

    .brand-title{
      display:flex;
      flex-direction:column;
      line-height:1.05;
    }
    .brand-title strong{
      letter-spacing:0.6px;
      font-size:14px;
    }
    .brand-title span{
      font-size:12px;
      color:var(--muted);
    }

    /* Round Apple-like buttons */
    .pill{
      position:relative;
      display:inline-flex;
      align-items:center;
      justify-content:center;
      padding:10px 14px;
      border-radius: var(--radius-pill);
      background: var(--btn);
      border: 1px solid var(--btnStroke);
      box-shadow: 0 12px 26px rgba(9, 32, 31, 0.10);
      color: color-mix(in srgb, var(--text) 92%, transparent);
      font-size:13px;
      letter-spacing:0.2px;
      transition: transform .20s ease, background .20s ease, border-color .20s ease, box-shadow .20s ease, filter .20s ease;
      cursor:pointer;
      outline:none;
      white-space:nowrap;
    }
    .pill::before{
      content:"";
      position:absolute;
      inset:-1px;
      border-radius: var(--radius-pill);
      background: radial-gradient(90px 90px at 20% 10%, rgba(255,255,255,0.22), transparent 55%);
      opacity: 0.85;
      pointer-events:none;
    }
    .pill:hover{
      transform: translateY(-1px);
      background: color-mix(in srgb, var(--btn) 85%, #fff 15%);
      border-color: color-mix(in srgb, var(--teal) 42%, var(--btnStroke));
      box-shadow: 0 16px 34px rgba(9,32,31,0.14), 0 0 0 1px rgba(23,184,176,0.10) inset;
    }
    .pill:active{ transform: translateY(0) scale(0.99); }
    .pill.is-active{
      background: color-mix(in srgb, var(--teal) 14%, var(--btn));
      border-color: color-mix(in srgb, var(--teal) 46%, var(--btnStroke));
      box-shadow: var(--ring);
    }
    .pill.primary{
      background: linear-gradient(135deg, rgba(23,184,176,0.96), rgba(11,126,121,0.94));
      border-color: rgba(255,255,255,0.40);
      color:#ffffff;
      font-weight:650;
    }
    .pill.primary:hover{ box-shadow: var(--ring2); }

    /* Icon pills (mobile controls) */
    .icon-pill{
      width:44px;
      height:44px;
      padding:0;
      border-radius:999px;
      display:inline-grid;
      place-items:center;
      gap:0;
    }
    .icon-pill svg{ width:18px; height:18px; }

    /* Desktop nav */
    nav.desktop-nav{
      display:flex;
      align-items:center;
      gap:10px;
      justify-content:flex-end;
      flex-wrap:wrap;
    }

    /* Mobile controls */
    .mobile-controls{
      display:none;
      align-items:center;
      gap:10px;
      justify-content:flex-end;
    }

    /* =========================================================
       Mobile Menu Sheet
       ========================================================= */
    .sheet{
      position:fixed;
      inset:0;
      display:none;
      z-index:120;
      background: rgba(0,0,0,0.48);
      backdrop-filter: blur(10px);
      padding:18px;
    }
    .sheet.is-open{ display:grid; place-items:end center; }

    .sheet-card{
      width:min(520px, 100%);
      border-radius: 26px;
      border: 1px solid color-mix(in srgb, #fff 18%, transparent);
      background: color-mix(in srgb, var(--panel2) 78%, transparent);
      box-shadow: var(--shadow);
      overflow:hidden;
    }
    .sheet-top{
      display:flex;
      align-items:center;
      justify-content:space-between;
      padding:12px 14px;
      border-bottom: 1px solid var(--stroke);
    }
    .sheet-top b{ font-size:13px; }
    .sheet-body{
      padding:14px;
      display:grid;
      gap:10px;
    }
    .sheet-grid{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:10px;
    }
    .sheet-grid a, .sheet-grid button{
      width:100%;
      justify-content:center;
    }

    /* =========================================================
       Hero
       ========================================================= */
    main.hero{
      padding:34px 0 18px;
    }
    .hero-grid{
      display:grid;
      grid-template-columns: 1.08fr 1fr;
      gap:18px;
      align-items:stretch;
    }
    .card{
      background: var(--panel);
      border: 1px solid var(--stroke);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      overflow:hidden;
    }

    .hero-copy{
      padding:28px;
      position:relative;
      min-height: 420px;
      display:flex;
      flex-direction:column;
      justify-content:center;
    }

    .kicker{
      display:inline-flex;
      gap:10px;
      align-items:center;
      padding:8px 12px;
      border-radius:999px;
      background: color-mix(in srgb, var(--panel2) 55%, transparent);
      border: 1px solid var(--stroke);
      color: color-mix(in srgb, var(--text) 88%, transparent);
      font-size:12px;
      width:fit-content;
    }
    .dot{
      width:8px;
      height:8px;
      border-radius:999px;
      background: var(--teal);
      box-shadow: 0 0 0 6px rgba(23,184,176,0.16);
    }

    h1{
      margin:14px 0 10px;
      font-size: clamp(28px, 3.2vw, 44px);
      letter-spacing:-0.7px;
      line-height:1.12;
    }
    .lead{
      margin:0 0 14px;
      color: var(--muted);
      font-size:15px;
      max-width: 60ch;
    }

    .hero-actions{
      display:flex;
      flex-wrap:wrap;
      gap:10px;
      margin-top:14px;
    }

    .micro{
      margin-top:16px;
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      color: var(--muted);
      font-size:12px;
    }
    .micro span{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding:8px 10px;
      border-radius:999px;
      background: color-mix(in srgb, var(--panel2) 55%, transparent);
      border: 1px solid var(--stroke);
    }
    .micro i{
      width:18px;
      height:18px;
      border-radius:999px;
      background: color-mix(in srgb, var(--teal) 18%, transparent);
      display:inline-grid;
      place-items:center;
      border: 1px solid color-mix(in srgb, var(--teal) 30%, var(--stroke));
      font-style:normal;
      font-weight:800;
      color: color-mix(in srgb, var(--text) 86%, transparent);
      font-size:11px;
    }

    .hero-media{
      position:relative;
      min-height:420px;
    }
    .hero-media .imgwrap{ height:100%; width:100%; position:relative; overflow:hidden; }
    .hero-media img{
      width:100%;
      height:100%;
      object-fit:cover;
      transform: scale(1.03);
      filter: contrast(1.04) saturate(1.05);
    }
    .hero-media::after{
      content:"";
      position:absolute;
      inset:0;
      background:
        radial-gradient(600px 320px at 15% 25%, rgba(23,184,176,0.22), transparent 55%),
        var(--heroOverlay);
      pointer-events:none;
    }

    .floating{
      position:absolute;
      left:16px;
      bottom:16px;
      right:16px;
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      z-index:2;
    }
    .chip{
      flex:1;
      min-width:160px;
      padding:12px 14px;
      border-radius:16px;
      background: color-mix(in srgb, var(--panel2) 70%, transparent);
      border: 1px solid var(--stroke);
      backdrop-filter: blur(12px);
    }
    .chip b{ display:block; font-size:13px; }
    .chip small{ color: var(--muted); }

    /* =========================================================
       Sections (tighter & balanced)
       ========================================================= */
    section{ padding:26px 0; }
    .section-head{
      display:flex;
      justify-content:space-between;
      align-items:flex-end;
      gap:16px;
      margin-bottom:14px;
    }
    .section-head h2{
      margin:0;
      font-size:22px;
      letter-spacing:-0.2px;
    }
    .section-head p{
      margin:6px 0 0;
      color: var(--muted);
      font-size:13px;
      max-width:70ch;
    }

    .grid-3{
      display:grid;
      grid-template-columns: repeat(3, 1fr);
      gap:14px;
    }
    .grid-2{
      display:grid;
      grid-template-columns: repeat(2, 1fr);
      gap:14px;
    }

    .tile{
      padding:18px;
      border-radius: var(--radius);
      background: var(--panel);
      border: 1px solid var(--stroke);
      box-shadow: var(--shadow2);
      transition: transform .20s ease, border-color .20s ease, background .20s ease;
      position:relative;
      overflow:hidden;
    }
    html[data-theme="dark"] .tile{
      box-shadow: 0 10px 40px rgba(0,0,0,0.28);
    }
    .tile:hover{
      transform: translateY(-2px);
      border-color: color-mix(in srgb, var(--teal) 40%, var(--stroke));
      background: color-mix(in srgb, var(--panel2) 72%, transparent);
    }

    .icon-bubble{
      width:44px;
      height:44px;
      border-radius:999px;
      background: color-mix(in srgb, var(--teal) 16%, transparent);
      border: 1px solid color-mix(in srgb, var(--teal) 28%, var(--stroke));
      display:grid;
      place-items:center;
      margin-bottom:12px;
    }
    .tile h3{ margin:0 0 6px; font-size:15px; }
    .tile p{ margin:0; color: var(--muted); font-size:13px; }

    .media-card{ padding:0; }
    .media-card .media{
      height:200px;
      overflow:hidden;
      border-bottom: 1px solid var(--stroke);
    }
    .media-card .media img{
      width:100%;
      height:100%;
      object-fit:cover;
      filter: saturate(1.05) contrast(1.05);
      transform: scale(1.03);
    }
    .media-card .content{ padding:16px 18px 18px; }

    /* =========================================================
       Pricing
       ========================================================= */
    .price{
      display:flex;
      align-items:baseline;
      gap:8px;
      margin:10px 0 12px;
    }
    .price strong{ font-size:26px; letter-spacing:-0.3px; }
    .price span{ font-size:13px; color: var(--muted); }

    .list{
      margin:0;
      padding:0;
      list-style:none;
      display:grid;
      gap:8px;
    }
    .list li{
      display:flex;
      gap:10px;
      color: color-mix(in srgb, var(--text) 86%, transparent);
      font-size:13px;
      padding:8px 10px;
      border-radius:14px;
      background: color-mix(in srgb, var(--panel2) 55%, transparent);
      border: 1px solid var(--stroke);
    }
    .tick{
      width:18px; height:18px;
      border-radius:999px;
      background: color-mix(in srgb, var(--teal) 18%, transparent);
      border: 1px solid color-mix(in srgb, var(--teal) 34%, var(--stroke));
      display:grid;
      place-items:center;
      flex:0 0 18px;
      font-size:12px;
      font-weight:900;
    }

    /* =========================================================
       Gallery
       ========================================================= */
    .gallery{
      display:grid;
      grid-template-columns: repeat(12, 1fr);
      gap:12px;
    }
    .gimg{
      border-radius: 20px;
      overflow:hidden;
      border: 1px solid var(--stroke);
      background: var(--panel);
      cursor:pointer;
      transition: transform .20s ease, border-color .20s ease;
      position:relative;
      min-height:140px;
    }
    .gimg:hover{
      transform: translateY(-2px);
      border-color: color-mix(in srgb, var(--teal) 42%, var(--stroke));
    }
    .gimg img{
      width:100%;
      height:100%;
      object-fit:cover;
      filter: saturate(1.06) contrast(1.05);
      transform: scale(1.03);
    }
    .span-7{ grid-column: span 7; }
    .span-5{ grid-column: span 5; }
    .span-4{ grid-column: span 4; }
    .span-8{ grid-column: span 8; }

    /* =========================================================
       Forms
       ========================================================= */
    .form{ display:grid; gap:12px; }
    .row{
      display:grid;
      grid-template-columns: repeat(2, 1fr);
      gap:12px;
    }
    .field{ display:grid; gap:6px; }
    label{ font-size:12px; color: var(--muted); }

    input, select, textarea{
      width:100%;
      padding:12px 12px;
      border-radius:16px;
      background: color-mix(in srgb, var(--panel2) 55%, transparent);
      border: 1px solid var(--stroke);
      color: var(--text);
      outline:none;
      transition: box-shadow .18s ease, border-color .18s ease, background .18s ease;
      font-size:13px;
    }
    textarea{ min-height:110px; resize:vertical; }
    input:focus, select:focus, textarea:focus{
      border-color: color-mix(in srgb, var(--teal) 55%, var(--stroke));
      box-shadow: var(--ring);
      background: color-mix(in srgb, var(--panel2) 70%, transparent);
    }

    .note{
      font-size:12px;
      color: var(--muted);
      margin-top:6px;
    }
    .inline-actions{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      align-items:center;
      justify-content:flex-start;
    }

    /* =========================================================
       Booking Table
       ========================================================= */
    .table-wrap{
      overflow:auto;
      border-radius: 18px;
      border: 1px solid var(--stroke);
      background: color-mix(in srgb, var(--panel2) 60%, transparent);
    }
    table{
      width:100%;
      border-collapse:separate;
      border-spacing:0;
      min-width: 920px;
    }
    thead th{
      text-align:left;
      font-size:12px;
      color: color-mix(in srgb, var(--text) 78%, transparent);
      padding:12px 12px;
      background: var(--tableHead);
      border-bottom: 1px solid var(--stroke);
      position:sticky;
      top:0;
      backdrop-filter: blur(12px);
    }
    tbody td{
      padding:12px 12px;
      font-size:13px;
      color: color-mix(in srgb, var(--text) 92%, transparent);
      border-bottom: 1px solid color-mix(in srgb, var(--stroke) 72%, transparent);
      vertical-align:top;
    }
    tbody tr:hover td{
      background: color-mix(in srgb, var(--teal) 6%, transparent);
    }

    .tag{
      display:inline-flex;
      padding:6px 10px;
      border-radius:999px;
      border: 1px solid var(--stroke);
      background: color-mix(in srgb, var(--panel2) 55%, transparent);
      font-size:12px;
      color: color-mix(in srgb, var(--text) 84%, transparent);
      white-space:nowrap;
    }
    .tag.ok{
      border-color: color-mix(in srgb, var(--teal) 35%, var(--stroke));
      background: color-mix(in srgb, var(--teal) 12%, transparent);
    }

    .btn-mini{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      padding:8px 12px;
      border-radius:999px;
      border: 1px solid var(--stroke);
      background: var(--btn);
      color: color-mix(in srgb, var(--text) 92%, transparent);
      font-size:12px;
      cursor:pointer;
      transition: transform .16s ease, border-color .16s ease, background .16s ease, box-shadow .16s ease;
      margin-right:6px;
      white-space:nowrap;
    }
    .btn-mini:hover{
      transform: translateY(-1px);
      border-color: color-mix(in srgb, var(--teal) 40%, var(--stroke));
      box-shadow: 0 12px 26px rgba(0,0,0,0.10);
    }
    html[data-theme="dark"] .btn-mini:hover{ box-shadow: 0 12px 26px rgba(0,0,0,0.30); }
    .btn-mini.danger:hover{ border-color: rgba(255,120,120,0.55); }
    .btn-mini:active{ transform: translateY(0); }

    /* =========================================================
       Footer (mobile-safe, no overlap)
       ========================================================= */
    footer{
      padding:22px 0 26px;
      border-top: 1px solid var(--stroke);
      background: color-mix(in srgb, var(--panel2) 55%, transparent);
    }
    .foot{
      display:flex;
      justify-content:space-between;
      align-items:flex-start;
      gap:14px;
      flex-wrap:wrap;
    }
    .foot small{ color: var(--muted); }
    .foot-actions{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      align-items:center;
      justify-content:flex-end;
    }

    /* =========================================================
       Lightbox
       ========================================================= */
    .lightbox{
      position:fixed;
      inset:0;
      display:none;
      place-items:center;
      background: rgba(0,0,0,0.56);
      backdrop-filter: blur(8px);
      z-index:130;
      padding:24px;
    }
    .lightbox.is-open{ display:grid; }
    .lightbox-card{
      width:min(980px, 100%);
      border-radius: 22px;
      overflow:hidden;
      border: 1px solid color-mix(in srgb, #fff 18%, transparent);
      background: color-mix(in srgb, var(--panel2) 70%, transparent);
      box-shadow: var(--shadow);
    }
    .lightbox-top{
      display:flex;
      justify-content:space-between;
      align-items:center;
      padding:12px 14px;
      border-bottom: 1px solid var(--stroke);
    }
    .lightbox-top b{ font-size:13px; }
    .lightbox-body{
      max-height:72vh;
      overflow:auto;
      background: color-mix(in srgb, #000 6%, transparent);
    }
    .lightbox-body img{ width:100%; height:auto; display:block; }

    /* =========================================================
       Responsive
       ========================================================= */
    @media (max-width: 980px){
      :root{ --pagePad: 34px; }
      nav.desktop-nav{ display:none; }
      .mobile-controls{ display:flex; }

      .hero-grid{ grid-template-columns: 1fr; }
      .hero-media{ min-height: unset; }
      .hero-media .imgwrap{ height: 320px; }

      .grid-3{ grid-template-columns: 1fr; }
      .grid-2{ grid-template-columns: 1fr; }
      .row{ grid-template-columns: 1fr; }

      .span-7,.span-5,.span-4,.span-8{ grid-column: span 12; }

      /* Footer buttons: always clean & not “meshed” */
      .foot{
        flex-direction:column;
        align-items:stretch;
      }
      .foot-actions{
        display:grid;
        grid-template-columns: 1fr 1fr;
        gap:10px;
        justify-content:stretch;
      }
      .foot-actions .pill{
        width:100%;
      }

      /* Menu sheet buttons */
      .sheet-grid{ grid-template-columns: 1fr; }
    }

    @media (max-width: 420px){
      :root{ --pagePad: 28px; }
      .brand{ min-width: unset; }
      .brand-title strong{ font-size:13px; }
      .brand-title span{ font-size:11px; }
    }
  </style>
</head>

<body>
  <!-- ===================== HEADER ===================== -->
  <header>
    <div class="container">
      <div class="topbar">
        <a class="brand" href="#top" aria-label="Go to top">
          <div class="brand-mark" aria-hidden="true">
            <img src="https://i.pinimg.com/736x/bb/aa/0c/bbaa0cfc46288ef17897b6e6c5e5a90d.jpg" alt="">
          </div>
          <div class="brand-title">
            <strong>PETSTAY</strong>
            <span>Premium Resort For Pets.</span>
          </div>
        </a>

        <!-- Desktop nav -->
        <nav class="desktop-nav" aria-label="Primary navigation">
          <a class="pill navlink" href="#about">About</a>
          <a class="pill navlink" href="#facilities">Facilities</a>
          <a class="pill navlink" href="#pricing">Pricing</a>
          <a class="pill navlink" href="#gallery">Gallery</a>
          <a class="pill navlink" href="#contact">Contact Us</a>
          <a class="pill primary navlink" href="#booking">Booking</a>
          <a class="pill navlink" href="#login" id="loginNavDesktop">Login</a>

          <button class="pill" id="themeBtnDesktop" type="button" aria-label="Toggle theme">
            <span id="themeLabelDesktop">Auto</span>
          </button>
        </nav>

        <!-- Mobile controls (no collision) -->
        <div class="mobile-controls" aria-label="Mobile controls">
          <button class="pill icon-pill" id="themeBtnMobile" type="button" aria-label="Toggle theme">
            <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M12 3v2" stroke="currentColor" stroke-width="1.7" stroke-linecap="round"/>
              <path d="M12 19v2" stroke="currentColor" stroke-width="1.7" stroke-linecap="round"/>
              <path d="M4.22 5.22l1.41 1.41" stroke="currentColor" stroke-width="1.7" stroke-linecap="round"/>
              <path d="M18.36 18.36l1.41 1.41" stroke="currentColor" stroke-width="1.7" stroke-linecap="round"/>
              <path d="M3 12h2" stroke="currentColor" stroke-width="1.7" stroke-linecap="round"/>
              <path d="M19 12h2" stroke="currentColor" stroke-width="1.7" stroke-linecap="round"/>
              <path d="M5.63 18.36l-1.41 1.41" stroke="currentColor" stroke-width="1.7" stroke-linecap="round"/>
              <path d="M19.78 5.22l-1.41 1.41" stroke="currentColor" stroke-width="1.7" stroke-linecap="round"/>
              <path d="M12 17a5 5 0 1 0 0-10 5 5 0 0 0 0 10Z" stroke="currentColor" stroke-width="1.7"/>
            </svg>
          </button>

          <button class="pill icon-pill" id="accountBtnMobile" type="button" aria-label="Account">
            <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M12 12a4 4 0 1 0-4-4 4 4 0 0 0 4 4Z" stroke="currentColor" stroke-width="1.7"/>
              <path d="M4.5 20c1.8-3.4 4.3-5 7.5-5s5.7 1.6 7.5 5" stroke="currentColor" stroke-width="1.7" stroke-linecap="round"/>
            </svg>
          </button>

          <button class="pill icon-pill" id="menuBtn" type="button" aria-label="Open menu">
            <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M5 7h14" stroke="currentColor" stroke-width="1.8" stroke-linecap="round"/>
              <path d="M5 12h14" stroke="currentColor" stroke-width="1.8" stroke-linecap="round"/>
              <path d="M5 17h14" stroke="currentColor" stroke-width="1.8" stroke-linecap="round"/>
            </svg>
          </button>
        </div>
      </div>
    </div>
  </header>

  <!-- ===================== MOBILE MENU SHEET ===================== -->
  <div class="sheet" id="sheet" aria-hidden="true">
    <div class="sheet-card" role="dialog" aria-modal="true" aria-label="Menu">
      <div class="sheet-top">
        <b>Menu</b>
        <button class="pill" type="button" id="sheetClose">Close</button>
      </div>
      <div class="sheet-body">
        <div class="sheet-grid">
          <a class="pill navlink-sheet" href="#about">About</a>
          <a class="pill navlink-sheet" href="#facilities">Facilities</a>
          <a class="pill navlink-sheet" href="#pricing">Pricing</a>
          <a class="pill navlink-sheet" href="#gallery">Gallery</a>
          <a class="pill navlink-sheet" href="#contact">Contact Us</a>
          <a class="pill primary navlink-sheet" href="#booking">Booking</a>
          <a class="pill navlink-sheet" href="#login" id="loginNavSheet">Login</a>
          <button class="pill" type="button" id="themeBtnSheet">
            Theme: <span id="themeLabelSheet" style="margin-left:6px;">Auto</span>
          </button>
        </div>
        <div class="note" id="authHint" style="margin-top:4px;"></div>
      </div>
    </div>
  </div>

  <!-- ===================== HERO ===================== -->
  <main id="top" class="hero">
    <div class="container">
      <div class="hero-grid">
        <div class="card hero-copy">
          <div class="kicker">
            <span class="dot" aria-hidden="true"></span>
            Premium Pet Hotel • Luxury Care • Easy Booking
          </div>

          <h1>Premium pet hotel care,<br/>designed like a resort.</h1>
          <p class="lead">
            PetStay combines comfort, safety, and enrichment—temperature-controlled suites, spa grooming, secure play zones, and support available 24/7.
          </p>

          <div class="hero-actions">
            <a class="pill primary" href="#booking">Book Now</a>
            <a class="pill" href="#pricing">View Pricing</a>
            <button class="pill" id="btnTour" type="button">Quick Tour</button>
          </div>

          <div class="micro" aria-label="Highlights">
            <span><i>✓</i>Luxury suites</span>
            <span><i>✓</i>Daily play</span>
            <span><i>✓</i>Spa add-ons</span>
            <span><i>✓</i>Instant quote</span>
          </div>
        </div>

        <div class="card hero-media" aria-label="Hero image">
          <div class="imgwrap">
            <img src="https://t3.ftcdn.net/jpg/17/64/50/62/360_F_1764506239_TmV7LZ1610WHrQ6He8UGLGNJYEiSfQlY.jpg" alt="Luxury PetStay suite hero photo">
          </div>

          <div class="floating" aria-hidden="true">
            <div class="chip">
              <b>Suite Comfort</b>
              <small>Calm design + premium bedding</small>
            </div>
            <div class="chip">
              <b>Enrichment</b>
              <small>Supervised play + rest balance</small>
            </div>
            <div class="chip">
              <b>Transparent Quote</b>
              <small>Auto price calculation</small>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>

  <!-- ===================== ABOUT ===================== -->
  <section id="about">
    <div class="container">
      <div class="section-head">
        <div>
          <h2>About PetStay</h2>
          <p>A luxury pet hotel experience with a clean and modern interface—designed for clarity, trust, and premium brand feel.</p>
        </div>
        <a class="pill" href="#facilities">Explore Facilities</a>
      </div>

      <div class="grid-3">
        <div class="tile">
          <div class="icon-bubble" aria-hidden="true">
            <svg width="22" height="22" viewBox="0 0 24 24" fill="none">
              <path d="M7 12c0-2.8 2.2-5 5-5s5 2.2 5 5v2c0 2.2-1.8 4-4 4H11c-2.2 0-4-1.8-4-4v-2Z" stroke="currentColor" stroke-width="1.7"/>
              <path d="M9 10.5c.6-.8 1.7-1.5 3-1.5s2.4.7 3 1.5" stroke="currentColor" stroke-width="1.7" stroke-linecap="round"/>
            </svg>
          </div>
          <h3>Care-first routines</h3>
          <p>Structured check-in, supervised activity, and calm rest cycles for safety and wellbeing.</p>
        </div>

        <div class="tile">
          <div class="icon-bubble" aria-hidden="true">
            <svg width="22" height="22" viewBox="0 0 24 24" fill="none">
              <path d="M5 13c2.5 0 2.5-4 5-4s2.5 4 5 4 2.5-4 5-4" stroke="currentColor" stroke-width="1.7" stroke-linecap="round"/>
              <path d="M5 17c2.5 0 2.5-4 5-4s2.5 4 5 4 2.5-4 5-4" stroke="currentColor" stroke-width="1.7" stroke-linecap="round" opacity="0.7"/>
            </svg>
          </div>
          <h3>Luxury environment</h3>
          <p>Premium bedding, clean lines, quiet zones, and a boutique brand experience.</p>
        </div>

        <div class="tile">
          <div class="icon-bubble" aria-hidden="true">
            <svg width="22" height="22" viewBox="0 0 24 24" fill="none">
              <path d="M12 3l2.2 4.6 5 .7-3.6 3.5.9 5-4.5-2.4-4.5 2.4.9-5L4.8 8.3l5-.7L12 3Z" stroke="currentColor" stroke-width="1.7" stroke-linejoin="round"/>
            </svg>
          </div>
          <h3>Extra Services</h3>
          <p>Pet watch monitoring
                Chauffeur “collect & return” service
                24-hour on-call veterinary services.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- ===================== FACILITIES ===================== -->
  <section id="facilities">
    <div class="container">
      <div class="section-head">
        <div>
          <h2>Facilities</h2>
          <p>Designed for comfort and hygiene: private suites, spa grooming, and enrichment play zones.</p>
        </div>
        <a class="pill" href="#booking">Reserve a Suite</a>
      </div>

      <div class="grid-3">
        <div class="tile media-card">
          <div class="media">
            <img src="https://luxepethotels.com/wp-content/uploads/2025/05/Luxe-Pet-Hotel-Small-37.jpg" alt="Private luxury dog suites">
          </div>
          <div class="content">
            <h3>Private Suites</h3>
            <p>Quiet, temperature-controlled suites with premium bedding and soft lighting.</p>
          </div>
        </div>

        <div class="tile media-card">
          <div class="media">
            <img src="https://images.squarespace-cdn.com/content/v1/5e57f1fa11adeb18cf1698f3/1598028499277-2NRBYLNNRGD24QOUF3SO/pet-spa-p.jpg" alt="Spa grooming and care area">
          </div>
          <div class="content">
            <h3>Spa & Grooming</h3>
            <p>Bath, dry, brush, nail care—calm handling with hygiene-first procedures.</p>
          </div>
        </div>

        <div class="tile media-card">
          <div class="media">
            <img src="https://images.ctfassets.net/rt5zmd3ipxai/33e1aQDVnIWJtT6GXSGmeP/511157d523207b570cc7254f20f7c8c1/NVA_-_PetSuites_-MASTER-_Blog_-_Enrichment___Soda_Pup__Petsuties_dog_running_over_obstacle_.jpg?fit=fill&fm=webp&h=578&w=1070&q=72" alt="Indoor enrichment and play area">
          </div>
          <div class="content">
            <h3>Enrichment & Play</h3>
            <p>Supervised play sessions and enrichment toys—balanced with rest time.</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- ===================== PRICING ===================== -->
  <section id="pricing">
    <div class="container">
      <div class="section-head">
        <div>
          <h2>Pricing</h2>
          <p>Pick a plan. Your quote is calculated automatically in the booking form.</p>
        </div>
        <a class="pill" href="#booking">Get Instant Quote</a>
      </div>

      <div class="grid-3">
        <div class="tile">
          <div class="icon-bubble" aria-hidden="true"><span style="font-weight:900;">C</span></div>
          <h3>Classic Stay</h3>
          <div class="price"><strong>HK$ 320</strong><span>/ night</span></div>
          <ul class="list">
            <li><span class="tick">✓</span>Cozy Paw Suit</li>
            <li><span class="tick">✓</span>Daily supervised play</li>
            <li><span class="tick">✓</span>Basic updates</li>
            <li><span class="tick">✓</span>Clean routine</li>
          </ul>
          <div class="inline-actions" style="margin-top:14px;">
            <a class="pill" href="#booking" data-plan="Classic">Select</a>
          </div>
        </div>

        <div class="tile" style="border-color: color-mix(in srgb, var(--teal) 45%, var(--stroke)); box-shadow: var(--ring);">
          <div class="icon-bubble" aria-hidden="true"><span style="font-weight:900;">S</span></div>
          <h3>Signature Suite</h3>
          <div class="price"><strong>HK$ 620</strong><span>/ night</span></div>
          <ul class="list">
            <li><span class="tick">✓</span>Premium Paw Suite</li>
            <li><span class="tick">✓</span>2× enrichment sessions</li>
            <li><span class="tick">✓</span>Photo updates</li>
            <li><span class="tick">✓</span>Priority check-in</li>
          </ul>
          <div class="inline-actions" style="margin-top:14px;">
            <a class="pill primary" href="#booking" data-plan="Signature">Select</a>
          </div>
        </div>

        <div class="tile">
          <div class="icon-bubble" aria-hidden="true"><span style="font-weight:900;">E</span></div>
          <h3>Elite Care</h3>
          <div class="price"><strong>HK$ 920</strong><span>/ night</span></div>
          <ul class="list">
            <li><span class="tick">✓</span>Penthouse Paw Suit</li>
            <li><span class="tick">✓</span>Grooming included</li>
            <li><span class="tick">✓</span>3× enrichment sessions</li>
            <li><span class="tick">✓</span>Daily report</li>
          </ul>
          <div class="inline-actions" style="margin-top:14px;">
            <a class="pill" href="#booking" data-plan="Elite">Select</a>
          </div>
        </div>
      </div>

      <p class="note">Tip: Change dates, plan, and add-ons in Booking. The quote updates instantly.</p>
    </div>
  </section>

  <!-- ===================== GALLERY ===================== -->
  <section id="gallery">
    <div class="container">
      <div class="section-head">
        <div>
          <h2>Gallery</h2>
          <p>Click any photo to open the lightbox. Use Shuffle for a dynamic feel.</p>
        </div>
        <button class="pill" type="button" id="btnShuffle">Shuffle</button>
      </div>

      <div class="gallery" id="galleryGrid">
        <div class="gimg span-7" data-caption="Signature Suite — premium comfort">
          <img src="https://cdn.shopify.com/s/files/1/0519/6157/files/adorable-beagle-dog-lounging-at-home-with-a-cozy-2023-11-27-05-10-17-utc_1_600x600.jpg?v=1724824558" alt="PetStay Signature Suite">
        </div>
        <div class="gimg span-5" data-caption="Enrichment — supervised play">
          <img src="https://luxurylaunches.com/wp-content/uploads/2023/08/my-second-home-in-dubai-2.jpg" alt="Pet enrichment area">
        </div>
        <div class="gimg span-4" data-caption="Spa Care — hygiene-first grooming">
          <img src="https://static.standard.co.uk/2025/02/05/15/57/Miami-Residences_Pet-Spa.jpg?width=1200&auto=webp&quality=75" alt="Pet spa grooming">
        </div>
        <div class="gimg span-8" data-caption="Lounge Zone — calm space">
          <img src="https://res.klook.com/images/fl_lossy.progressive,q_65/c_crop,x_0,y_840,h_840,w_1416/activities/skbogp9muuxmmjul5rxt/PetCafeandLoungeinBaliPetNirvana.jpg" alt="Pet lounge zone">
        </div>
      </div>
    </div>
  </section>

  <!-- ===================== CONTACT ===================== -->
  <section id="contact">
    <div class="container">
      <div class="section-head">
        <div>
          <h2>Contact Us</h2>
          <p>Demo form: shows confirmation and resets (safe for assignments).</p>
        </div>
        <a class="pill" href="#booking">Go to Booking</a>
      </div>

      <div class="grid-2">
        <div class="tile">
          <h3 style="margin:0 0 10px;">Message</h3>
          <form class="form" id="contactForm">
            <div class="row">
              <div class="field">
                <label for="cName">Your Name</label>
                <input id="cName" name="cName" type="text" placeholder="e.g., Alex Chan" required />
              </div>
              <div class="field">
                <label for="cEmail">Email</label>
                <input id="cEmail" name="cEmail" type="email" placeholder="e.g., alex@email.com" required />
              </div>
            </div>
            <div class="field">
              <label for="cMsg">Message</label>
              <textarea id="cMsg" name="cMsg" placeholder="Dates, pet info, preferences..." required></textarea>
            </div>
            <div class="inline-actions">
              <button class="pill primary" type="submit">Send Message</button>
              <span class="note" id="contactNote"></span>
            </div>
          </form>
        </div>

        <div class="tile">
          <h3 style="margin:0 0 10px;">Hotel Info</h3>
          <p style="margin:0 0 12px; color: var(--muted);">
            PetStay — Premium Pet Hotel<br/>
            Hours: 08:00–20:00 • Daily<br/>
            Services: Suites • Spa • Enrichment • Daycare
          </p>

          <div class="grid-2" style="margin-top:12px;">
            <div class="tile" style="box-shadow:none;">
              <div class="icon-bubble" aria-hidden="true" style="margin-bottom:10px;">
                <span style="font-weight:900;">HK</span>
              </div>
              <h3 style="margin:0 0 6px;">Location</h3>
              <p>Hong Kong (Victoria Harbour Area)</p>
            </div>
            <div class="tile" style="box-shadow:none;">
              <div class="icon-bubble" aria-hidden="true" style="margin-bottom:10px;">
                <span style="font-weight:900;">24</span>
              </div>
              <h3 style="margin:0 0 6px;">Care</h3>
              <p>Supervised routines + calm handling</p>
            </div>
          </div>

          <p class="note">You can keep contact details minimal for school submission.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- ===================== BOOKING ===================== -->
  <section id="booking">
    <div class="container">
      <div class="section-head">
        <div>
          <h2>Booking</h2>
          <p>Working booking system: instant quote + add/edit/delete bookings + saved in browser storage.</p>
        </div>
        <button class="pill" type="button" id="btnClearAll">Clear All</button>
      </div>

      <div class="grid-2">
        <div class="tile">
          <h3 style="margin:0 0 12px;">Booking Form</h3>

          <form class="form" id="bookingForm">
            <div class="row">
              <div class="field">
                <label for="ownerName">Owner Name</label>
                <input id="ownerName" name="ownerName" type="text" placeholder="e.g., Jamie Wong" required />
              </div>
              <div class="field">
                <label for="ownerEmail">Owner Email</label>
                <input id="ownerEmail" name="ownerEmail" type="email" placeholder="e.g., jamie@email.com" required />
              </div>
            </div>

            <div class="row">
              <div class="field">
                <label for="dogName">Pet Name</label>
                <input id="dogName" name="dogName" type="text" placeholder="e.g., Momo" required />
              </div>
              <div class="field">
                <label for="dogSize">Pet Size</label>
                <select id="dogSize" name="dogSize" required>
                  <option value="Small">Small (0–8kg)</option>
                  <option value="Medium">Medium (9–18kg)</option>
                  <option value="Large">Large (19kg+)</option>
                </select>
              </div>
            </div>

            <div class="row">
              <div class="field">
                <label for="plan">Plan</label>
                <select id="plan" name="plan" required>
                  <option value="Classic">Classic Stay — HK$480/night</option>
                  <option value="Signature" selected>Signature Suite — HK$680/night</option>
                  <option value="Elite">Elite Care — HK$920/night</option>
                </select>
              </div>
              <div class="field">
                <label for="addOn">Add-On</label>
                <select id="addOn" name="addOn">
                  <option value="None" selected>None</option>
                  <option value="Grooming">Grooming (+HK$220)</option>
                  <option value="ExtraPlay">Extra Play (+HK$120)</option>
                  <option value="Pickup">Pickup & Drop (+HK$300)</option>
                </select>
              </div>
            </div>

            <div class="row">
              <div class="field">
                <label for="checkIn">Check-In Date</label>
                <input id="checkIn" name="checkIn" type="date" required />
              </div>
              <div class="field">
                <label for="checkOut">Check-Out Date</label>
                <input id="checkOut" name="checkOut" type="date" required />
              </div>
            </div>

            <div class="field">
              <label for="notes">Special Notes</label>
              <input id="notes" name="notes" type="text" placeholder="Diet, temperament, medication notes (optional)" />
            </div>

            <div class="tile" style="box-shadow:none; margin-top:6px;">
              <h3 style="margin:0 0 8px; font-size:14px;">Instant Quote</h3>
              <div class="row">
                <div>
                  <div class="note">Nights</div>
                  <div style="font-size:18px; font-weight:800;" id="qNights">—</div>
                </div>
                <div>
                  <div class="note">Total (HK$)</div>
                  <div style="font-size:18px; font-weight:800;" id="qTotal">—</div>
                </div>
              </div>
              <div class="note" id="qBreakdown" style="margin-top:8px;"></div>
            </div>

            <div class="inline-actions">
              <button class="pill primary" type="submit" id="btnSubmitBooking">Add Booking</button>
              <button class="pill" type="button" id="btnResetForm">Reset</button>
              <span class="note" id="bookingNote"></span>
            </div>

            <input type="hidden" id="editId" value="" />
          </form>
        </div>

        <div class="tile">
          <h3 style="margin:0 0 12px;">Booking Table (Working)</h3>
          <div class="table-wrap" aria-label="Booking table">
            <table>
              <thead>
                <tr>
                  <th>Booking ID</th>
                  <th>Owner</th>
                  <th>Pet</th>
                  <th>Plan</th>
                  <th>Dates</th>
                  <th>Nights</th>
                  <th>Add-On</th>
                  <th>Total (HK$)</th>
                  <th>Status</th>
                  <th>Actions</th>
                </tr>
              </thead>
              <tbody id="bookingTbody"></tbody>
            </table>
          </div>

          <p class="note" style="margin-top:10px;">
            Saved using localStorage. You can refresh the page and bookings stay.
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- ===================== LOGIN ===================== -->
  <section id="login">
    <div class="container">
      <div class="section-head">
        <div>
          <h2>Login</h2>
          <p>Demo login for assignments (stores a session in localStorage). No real authentication.</p>
        </div>
        <a class="pill" href="#booking">Go to Booking</a>
      </div>

      <div class="grid-2">
        <div class="tile">
          <h3 style="margin:0 0 10px;">Sign In</h3>
          <form class="form" id="loginForm">
            <div class="field">
              <label for="lEmail">Email</label>
              <input id="lEmail" type="email" placeholder="e.g., user@petstay.com" required />
            </div>
            <div class="field">
              <label for="lPass">Password</label>
              <input id="lPass" type="password" placeholder="Any password (demo)" required />
            </div>
            <div class="inline-actions">
              <button class="pill primary" type="submit">Login</button>
              <button class="pill" type="button" id="btnLogout">Logout</button>
              <span class="note" id="loginNote"></span>
            </div>
          </form>
        </div>

        <div class="tile">
          <h3 style="margin:0 0 10px;">Account Status</h3>
          <p style="margin:0 0 12px; color: var(--muted);">
            This shows whether the demo session is active.
          </p>

          <div class="tile" style="box-shadow:none;">
            <div class="icon-bubble" aria-hidden="true" style="margin-bottom:10px;">
              <span style="font-weight:900;">ID</span>
            </div>
            <h3 style="margin:0 0 6px;">Current User</h3>
            <p id="userStatus">Not logged in.</p>
          </div>

          <p class="note">For a real system, you would connect to a backend (not required for this assignment demo).</p>
        </div>
      </div>
    </div>
  </section>

  <!-- ===================== FOOTER ===================== -->
  <footer class="safe-bottom">
    <div class="container">
      <div class="foot">
        <div>
          <div class="brand" style="gap:10px;">
            <div class="brand-mark" aria-hidden="true" style="width:38px;height:38px;border-radius:14px;">
              <img src="https://i.pinimg.com/736x/bb/aa/0c/bbaa0cfc46288ef17897b6e6c5e5a90d.jpg" alt="">
            </div>
            <div class="brand-title">
              <strong>PETSTAY</strong>
              <span>Premium Resort For Pets.</span>
            </div>
          </div>
         
          <small>© <span id="year"></span> PetStay. Apple-clean UI with working booking + login demo.</small>
        </div>

        <!-- FIX: mobile footer uses grid, so buttons never “mesh” -->
        <div class="foot-actions" aria-label="Footer actions">
          <a class="pill" href="#about">Back to About</a>
          <a class="pill primary" href="#booking">Book</a>
        </div>
      </div>
    </div>
  </footer>

  <!-- ===================== LIGHTBOX ===================== -->
  <div class="lightbox" id="lightbox" aria-hidden="true">
    <div class="lightbox-card" role="dialog" aria-modal="true" aria-label="Gallery lightbox">
      <div class="lightbox-top">
        <b id="lbCaption">Preview</b>
        <button class="pill" id="lbClose" type="button">Close</button>
      </div>
      <div class="lightbox-body">
        <img id="lbImg" src="" alt="Gallery preview">
      </div>
    </div>
  </div>

  <script>
    // =========================================================
    // Theme Toggle (Auto -> Light -> Dark) + remembers choice
    // =========================================================
    const THEME_KEY = "petstay_theme_v2";
    const html = document.documentElement;

    const themeLabelDesktop = document.getElementById("themeLabelDesktop");
    const themeLabelSheet   = document.getElementById("themeLabelSheet");

    function systemPrefersDark(){
      return window.matchMedia && window.matchMedia("(prefers-color-scheme: dark)").matches;
    }

    function setThemeTokens(mode){
      // Keep UX label (Auto/Light/Dark), but set actual theme tokens
      if(mode === "auto"){
        const actual = systemPrefersDark() ? "dark" : "light";
        html.setAttribute("data-theme", actual);
        html.setAttribute("data-theme-mode", "auto");
        return;
      }
      html.removeAttribute("data-theme-mode");
      html.setAttribute("data-theme", mode);
    }

    function applyTheme(mode){
      setThemeTokens(mode);
      const label = mode.charAt(0).toUpperCase() + mode.slice(1);
      if(themeLabelDesktop) themeLabelDesktop.textContent = (mode === "auto") ? "Auto" : label;
      if(themeLabelSheet) themeLabelSheet.textContent = (mode === "auto") ? "Auto" : label;
    }

    function getSavedTheme(){
      return localStorage.getItem(THEME_KEY) || "auto";
    }
    function saveTheme(mode){
      localStorage.setItem(THEME_KEY, mode);
    }
    function cycleTheme(){
      const current = getSavedTheme();
      const next = (current === "auto") ? "light" : (current === "light") ? "dark" : "auto";
      saveTheme(next);
      applyTheme(next);
    }

    // React if system theme changes while in Auto
    const mq = window.matchMedia("(prefers-color-scheme: dark)");
    if(mq && mq.addEventListener){
      mq.addEventListener("change", () => {
        if(getSavedTheme() === "auto") applyTheme("auto");
      });
    }

    // Bind theme buttons
    const themeBtnDesktop = document.getElementById("themeBtnDesktop");
    const themeBtnMobile  = document.getElementById("themeBtnMobile");
    const themeBtnSheet   = document.getElementById("themeBtnSheet");

    if(themeBtnDesktop) themeBtnDesktop.addEventListener("click", cycleTheme);
    if(themeBtnMobile)  themeBtnMobile.addEventListener("click", cycleTheme);
    if(themeBtnSheet)   themeBtnSheet.addEventListener("click", cycleTheme);

    applyTheme(getSavedTheme());

    // =========================================================
    // Mobile Menu Sheet (prevents header button collision)
    // =========================================================
    const sheet = document.getElementById("sheet");
    const menuBtn = document.getElementById("menuBtn");
    const sheetClose = document.getElementById("sheetClose");

    function openSheet(){
      sheet.classList.add("is-open");
      sheet.setAttribute("aria-hidden","false");
      sheetClose.focus();
    }
    function closeSheet(){
      sheet.classList.remove("is-open");
      sheet.setAttribute("aria-hidden","true");
    }

    menuBtn.addEventListener("click", openSheet);
    sheetClose.addEventListener("click", closeSheet);
    sheet.addEventListener("click", (e) => { if(e.target === sheet) closeSheet(); });
    document.addEventListener("keydown", (e) => {
      if(e.key === "Escape" && sheet.classList.contains("is-open")) closeSheet();
    });

    // Close sheet when clicking a link inside
    document.querySelectorAll(".navlink-sheet").forEach(a => {
      a.addEventListener("click", () => setTimeout(closeSheet, 120));
    });

    // Mobile account button -> jump to login
    document.getElementById("accountBtnMobile").addEventListener("click", () => {
      document.getElementById("login").scrollIntoView({behavior:"smooth", block:"start"});
    });

    // =========================================================
    // Helpers
    // =========================================================
    const $ = (sel, root=document) => root.querySelector(sel);
    const $$ = (sel, root=document) => Array.from(root.querySelectorAll(sel));

    function daysBetween(startISO, endISO){
      const s = new Date(startISO);
      const e = new Date(endISO);
      const ms = e - s;
      return Math.round(ms / (1000 * 60 * 60 * 24));
    }

    function formatDateISO(iso){
      if(!iso) return "—";
      const d = new Date(iso + "T00:00:00");
      return d.toLocaleDateString(undefined, {year:"numeric", month:"short", day:"2-digit"});
    }

    function uid(){
      return "PS-" + Math.random().toString(16).slice(2, 6).toUpperCase() + "-" + Date.now().toString().slice(-5);
    }

    function escapeHtml(str){
      return String(str ?? "")
        .replaceAll("&","&amp;")
        .replaceAll("<","&lt;")
        .replaceAll(">","&gt;")
        .replaceAll('"',"&quot;")
        .replaceAll("'","&#039;");
    }

    // =========================================================
    // Active nav highlight (desktop only - looks clean)
    // =========================================================
    const navLinks = $$(".navlink");
    const sections = navLinks
      .map(a => document.querySelector(a.getAttribute("href")))
      .filter(Boolean);

    const obs = new IntersectionObserver((entries) => {
      const visible = entries
        .filter(e => e.isIntersecting)
        .sort((a,b) => b.intersectionRatio - a.intersectionRatio)[0];
      if(!visible) return;

      navLinks.forEach(a => a.classList.remove("is-active"));
      const id = "#" + visible.target.id;
      const active = navLinks.find(a => a.getAttribute("href") === id);
      if(active) active.classList.add("is-active");
    }, { threshold:[0.22, 0.35, 0.45, 0.55] });

    sections.forEach(s => obs.observe(s));

    // Quick Tour
    $("#btnTour").addEventListener("click", () => {
      const tour = ["#facilities", "#pricing", "#booking"].map(id => $(id));
      let i = 0;
      const step = () => {
        tour[i].scrollIntoView({behavior:"smooth", block:"start"});
        i++;
        if(i < tour.length) setTimeout(step, 900);
      };
      step();
    });

    // =========================================================
    // Gallery Lightbox + Shuffle
    // =========================================================
    const lightbox = $("#lightbox");
    const lbImg = $("#lbImg");
    const lbCaption = $("#lbCaption");

    function openLightbox(src, caption){
      lbImg.src = src;
      lbCaption.textContent = caption || "Preview";
      lightbox.classList.add("is-open");
      lightbox.setAttribute("aria-hidden", "false");
      $("#lbClose").focus();
    }
    function closeLightbox(){
      lightbox.classList.remove("is-open");
      lightbox.setAttribute("aria-hidden", "true");
      lbImg.src = "";
    }

    $$(".gimg").forEach(card => {
      card.addEventListener("click", () => {
        const img = $("img", card);
        openLightbox(img.src, card.dataset.caption);
      });
    });

    $("#lbClose").addEventListener("click", closeLightbox);
    lightbox.addEventListener("click", (e) => { if(e.target === lightbox) closeLightbox(); });
    document.addEventListener("keydown", (e) => {
      if(e.key === "Escape" && lightbox.classList.contains("is-open")) closeLightbox();
    });

    $("#btnShuffle").addEventListener("click", () => {
      const grid = $("#galleryGrid");
      const items = $$(".gimg", grid);
      for(let i = items.length - 1; i > 0; i--){
        const j = Math.floor(Math.random() * (i + 1));
        grid.insertBefore(items[j], items[i]);
      }
    });

    // =========================================================
    // Contact form demo
    // =========================================================
    $("#contactForm").addEventListener("submit", (e) => {
      e.preventDefault();
      $("#contactNote").textContent = "Message sent (demo). Thank you — we’ll respond soon.";
      e.target.reset();
      setTimeout(() => $("#contactNote").textContent = "", 3200);
    });

    // =========================================================
    // Pricing -> booking plan
    // =========================================================
    $$('[data-plan]').forEach(btn => {
      btn.addEventListener("click", () => {
        $("#plan").value = btn.getAttribute("data-plan");
        computeQuote();
      });
    });

    // =========================================================
    // Booking system
    // =========================================================
    const PRICES = { Classic: 480, Signature: 680, Elite: 920 };
    const SIZE_MULTIPLIER = { Small: 1.00, Medium: 1.10, Large: 1.22 };
    const ADDONS = { None: 0, Grooming: 220, ExtraPlay: 120, Pickup: 300 };

    function computeQuote(){
      const plan = $("#plan").value;
      const size = $("#dogSize").value;
      const addOn = $("#addOn").value;
      const checkIn = $("#checkIn").value;
      const checkOut = $("#checkOut").value;

      let nights = 0;
      if(checkIn && checkOut){
        nights = daysBetween(checkIn, checkOut);
        if(!Number.isFinite(nights)) nights = 0;
      }

      if(!checkIn || !checkOut || nights <= 0){
        $("#qNights").textContent = "—";
        $("#qTotal").textContent = "—";
        $("#qBreakdown").textContent = "Select valid dates (check-out must be after check-in).";
        return { valid:false };
      }

      const base = PRICES[plan] * nights;
      const sizeAdj = Math.round(base * (SIZE_MULTIPLIER[size] - 1));
      const addonCost = ADDONS[addOn];
      const total = base + sizeAdj + addonCost;

      $("#qNights").textContent = String(nights);
      $("#qTotal").textContent = String(total.toLocaleString());
      $("#qBreakdown").textContent =
        `Base: HK$${PRICES[plan]} × ${nights} = HK$${base.toLocaleString()} • ` +
        `Size: ${size} (+HK$${sizeAdj.toLocaleString()}) • ` +
        `Add-On: ${addOn} (+HK$${addonCost.toLocaleString()})`;

      return { valid:true, nights, total };
    }

    ["plan","dogSize","addOn","checkIn","checkOut"].forEach(id => {
      $("#" + id).addEventListener("change", computeQuote);
      $("#" + id).addEventListener("input", computeQuote);
    });

    // Seed dates
    (function seedDates(){
      const today = new Date();
      const in1 = new Date(today); in1.setDate(today.getDate() + 1);
      const in2 = new Date(today); in2.setDate(today.getDate() + 2);
      const iso = d => d.toISOString().slice(0,10);

      if(!$("#checkIn").value) $("#checkIn").value = iso(in1);
      if(!$("#checkOut").value) $("#checkOut").value = iso(in2);
      computeQuote();
    })();

    // Storage
    const STORAGE_KEY = "petstay_bookings_v2";
    function loadBookings(){
      try{
        const raw = localStorage.getItem(STORAGE_KEY);
        return raw ? JSON.parse(raw) : [];
      }catch{
        return [];
      }
    }
    function saveBookings(bookings){
      localStorage.setItem(STORAGE_KEY, JSON.stringify(bookings));
    }

    // Render table
    function renderTable(){
      const tbody = $("#bookingTbody");
      const bookings = loadBookings();
      tbody.innerHTML = "";

      if(bookings.length === 0){
        const tr = document.createElement("tr");
        tr.innerHTML = `
          <td colspan="10" style="padding:16px; color: rgba(11,26,25,0.65);">
            No bookings yet. Submit the booking form to add your first booking.
          </td>
        `;
        tbody.appendChild(tr);
        return;
      }

      bookings.forEach(b => {
        const tr = document.createElement("tr");
        tr.innerHTML = `
          <td><span class="tag">${escapeHtml(b.id)}</span></td>
          <td>${escapeHtml(b.ownerName)}<br/><span class="note">${escapeHtml(b.ownerEmail)}</span></td>
          <td>${escapeHtml(b.dogName)}<br/><span class="note">${escapeHtml(b.dogSize)}</span></td>
          <td><span class="tag ok">${escapeHtml(b.plan)}</span></td>
          <td>${formatDateISO(b.checkIn)} → ${formatDateISO(b.checkOut)}</td>
          <td>${b.nights}</td>
          <td><span class="tag">${escapeHtml(b.addOn)}</span></td>
          <td><b>${Number(b.total).toLocaleString()}</b></td>
          <td><span class="tag ok">Saved</span></td>
          <td>
            <button class="btn-mini" data-action="edit" data-id="${escapeHtml(b.id)}">Edit</button>
            <button class="btn-mini danger" data-action="delete" data-id="${escapeHtml(b.id)}">Delete</button>
          </td>
        `;
        tbody.appendChild(tr);
      });
    }

    // Table actions
    $("#bookingTbody").addEventListener("click", (e) => {
      const btn = e.target.closest("button");
      if(!btn) return;

      const action = btn.dataset.action;
      const id = btn.dataset.id;

      if(action === "delete"){
        const bookings = loadBookings().filter(b => b.id !== id);
        saveBookings(bookings);
        renderTable();
        $("#bookingNote").textContent = "Booking deleted.";
        setTimeout(() => $("#bookingNote").textContent = "", 2200);
      }

      if(action === "edit"){
        const bookings = loadBookings();
        const b = bookings.find(x => x.id === id);
        if(!b) return;

        $("#editId").value = b.id;
        $("#ownerName").value = b.ownerName;
        $("#ownerEmail").value = b.ownerEmail;
        $("#dogName").value = b.dogName;
        $("#dogSize").value = b.dogSize;
        $("#plan").value = b.plan;
        $("#addOn").value = b.addOn;
        $("#checkIn").value = b.checkIn;
        $("#checkOut").value = b.checkOut;
        $("#notes").value = b.notes || "";

        computeQuote();
        $("#btnSubmitBooking").textContent = "Update Booking";
        $("#bookingNote").textContent = "Editing mode: update fields then click “Update Booking”.";
        setTimeout(() => $("#bookingNote").textContent = "", 3200);
        $("#ownerName").focus();
      }
    });

    // Submit booking
    $("#bookingForm").addEventListener("submit", (e) => {
      e.preventDefault();

      const quote = computeQuote();
      if(!quote.valid){
        $("#bookingNote").textContent = "Fix the dates (check-out must be after check-in).";
        return;
      }

      const payload = {
        id: $("#editId").value || uid(),
        ownerName: $("#ownerName").value.trim(),
        ownerEmail: $("#ownerEmail").value.trim(),
        dogName: $("#dogName").value.trim(),
        dogSize: $("#dogSize").value,
        plan: $("#plan").value,
        addOn: $("#addOn").value,
        checkIn: $("#checkIn").value,
        checkOut: $("#checkOut").value,
        nights: quote.nights,
        total: quote.total,
        notes: $("#notes").value.trim()
      };

      if(!payload.ownerName || !payload.ownerEmail || !payload.dogName){
        $("#bookingNote").textContent = "Complete required fields (owner, email, pet name).";
        return;
      }

      const bookings = loadBookings();
      const idx = bookings.findIndex(b => b.id === payload.id);

      if(idx >= 0){
        bookings[idx] = payload;
        $("#bookingNote").textContent = "Booking updated successfully.";
      } else {
        bookings.unshift(payload);
        $("#bookingNote").textContent = "Booking added successfully.";
      }

      saveBookings(bookings);
      renderTable();

      $("#editId").value = "";
      $("#btnSubmitBooking").textContent = "Add Booking";

      $("#ownerName").value = "";
      $("#ownerEmail").value = "";
      $("#dogName").value = "";
      $("#notes").value = "";

      setTimeout(() => $("#bookingNote").textContent = "", 2400);
    });

    $("#btnResetForm").addEventListener("click", () => {
      $("#bookingForm").reset();
      $("#editId").value = "";
      $("#btnSubmitBooking").textContent = "Add Booking";

      const today = new Date();
      const in1 = new Date(today); in1.setDate(today.getDate() + 1);
      const in2 = new Date(today); in2.setDate(today.getDate() + 2);
      const iso = d => d.toISOString().slice(0,10);

      $("#checkIn").value = iso(in1);
      $("#checkOut").value = iso(in2);
      $("#plan").value = "Signature";
      $("#dogSize").value = "Small";
      $("#addOn").value = "None";
      computeQuote();
    });

    $("#btnClearAll").addEventListener("click", () => {
      localStorage.removeItem(STORAGE_KEY);
      renderTable();
      $("#bookingNote").textContent = "All bookings cleared.";
      setTimeout(() => $("#bookingNote").textContent = "", 2200);
    });

    // =========================================================
    // Login demo (localStorage session)
    // =========================================================
    const AUTH_KEY = "petstay_demo_user_v1";

    function getUser(){
      try{
        const raw = localStorage.getItem(AUTH_KEY);
        return raw ? JSON.parse(raw) : null;
      }catch{
        return null;
      }
    }
    function setUser(user){
      localStorage.setItem(AUTH_KEY, JSON.stringify(user));
    }
    function clearUser(){
      localStorage.removeItem(AUTH_KEY);
    }

    function updateAuthUI(){
      const user = getUser();
      const userStatus = document.getElementById("userStatus");
      const loginNote = document.getElementById("loginNote");
      const authHint = document.getElementById("authHint");

      const loginNavDesktop = document.getElementById("loginNavDesktop");
      const loginNavSheet = document.getElementById("loginNavSheet");

      if(user){
        userStatus.textContent = `Logged in as ${user.email}`;
        if(loginNavDesktop) loginNavDesktop.textContent = "Account";
        if(loginNavSheet) loginNavSheet.textContent = "Account";
        if(authHint) authHint.textContent = `Signed in: ${user.email}`;
        if(loginNote) loginNote.textContent = "";
      } else {
        userStatus.textContent = "Not logged in.";
        if(loginNavDesktop) loginNavDesktop.textContent = "Login";
        if(loginNavSheet) loginNavSheet.textContent = "Login";
        if(authHint) authHint.textContent = "Not signed in.";
      }
    }

    document.getElementById("loginForm").addEventListener("submit", (e) => {
      e.preventDefault();
      const email = document.getElementById("lEmail").value.trim();
      const pass = document.getElementById("lPass").value.trim();

      if(!email || !pass){
        document.getElementById("loginNote").textContent = "Enter email and password.";
        return;
      }

      setUser({ email, ts: Date.now() });
      document.getElementById("loginNote").textContent = "Logged in (demo).";
      setTimeout(() => document.getElementById("loginNote").textContent = "", 2200);
      updateAuthUI();
    });

    document.getElementById("btnLogout").addEventListener("click", () => {
      clearUser();
      document.getElementById("loginNote").textContent = "Logged out.";
      setTimeout(() => document.getElementById("loginNote").textContent = "", 2200);
      updateAuthUI();
    });

    // =========================================================
    // Init
    // =========================================================
    document.getElementById("year").textContent = new Date().getFullYear();
    renderTable();
    computeQuote();
    updateAuthUI();
  </script>
</body>
</html>
